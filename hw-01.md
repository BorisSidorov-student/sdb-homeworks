# Домашнее задание к занятию "`Базы данных, их типы`" - `Сидоров Борис`

---
---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

---

### Решение 1
1.1 Если речь идет о четкой структуре и целостности данных, то выбор будет в пользу **`sql СУБД`**, так как этот тип **`СУБД`** придерживается требованиям **`ACID`**. То есть нам нужна гарантия, что данные ни в коем случае не потеряются при каком либо сбое, а также данные будут хранятся в четкой структуре и из этой **`БД`** можно легко извлекать информацию для анализа используя язык **`sql`**.

1.1* Для оптимизации работы с данными можно использовать очень популярное решение такое как **`PostgreSQL`**. В самой архитектуре данной **`СУБД`** уже заложено много служебных процессов которые хорошо используют технологию **`буферного кеша`**, причем используется архитектура многопользовательская и для каждого пользователя будет выделен изолированный процесс который также очень успешно умеет работать с **`буферным кешем`**.

1.2 Для **`CRM`** лучше всего использовать **`реляционные БД`**, так как именно туда будут записываться итоговые страницы **`лендинга`**. Для **`лендинга`** в свою очередь лучше использовать **`NoSQL БД`**, так как для решения этой задачи нужно делать упор на скорость работы и на гибкость и не привязываться к четкой типизации, так как каждая страничка может быть по своей структуре отличаться от предыдущей.

1.2* Более чем уверен, что требования по задаче можно перекрыть **`PostgreSQL`**, так как это **`DB`** уже достаточно давно на рынке и его функционал очень большой уже из коробки. Также уже разработано сообществом множество плагинов которые расширяют возможности этой **`БД`**. Так как основа все равно **`CRM`**, а это четкая структура и надежность, значит это **`SQL`**, а подавляющее количество задач можно решить используя **`PostgreSQL`** применяя дополнительные плагины если это потребуется.

1.3 Для этой задачи может подойти **`Документо-ориентированные СУБД`**, но как по мне все равно лучше **`SQL`** решения не придумать. Единственно, что может перевесить решение в пользу **`NoSQL`**, если требования к четкой типизации при создании **`БД`** никаким образом не могут быть выполнены.

1.3* Да можно и **`PostgreSQL`** прекрасно будет решать эту задачу, так как **`реляционные БД`** это по сути набор таблиц связанные между собой ключами и ничего не мешает создать новую таблицу.

1.4 Для решения задачи по вычислению или предугадыванию чего либо, то тут идеально будет **`Графовые СУБД`**.

1.4* Опять же лучшим решением будет **`PostgreSQL`** в котором можно создать четкую структурированную **`БД`**, а вопросы по маршрутам можно решать уже специальными плагинами такой как **`pgRouting`** и не придется создавать несколько **`БД`** с разными технологиями и не ломать голову как настроить их совместную работу.

1.5* Коротко, можно и это будет **`PostgreSQL`** так как эта технология уже давно зарекомендовала себя на рынке, есть много расширений, а самое главное масштабирование из коробки.

---
---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*

---

### Решение 2
Как я понимаю речь идет о требовании **`ACID`**, в рамках пополнения баланса действия должны быть следующие:
- **`транзакция`** это процесс "все или ничего", значит должна быть точка отсчета, старт это будет первое действие

- проверка баланса счета с которого будет произведено списание, т.е вообще возможно ли будет выполнить этот процесс

- **`блокировка счета`**, т.е **`изоляция`** процесса для того чтобы на процесс никаким образом не могли повлиять какие либо сторонние процессы

- сам факт списание денежных средств со счета

- зачисление денежных средств

- финальный шаг, завершения процесса **`транзакции`** только в случае если по всем предыдущим шагам операции были выполнены успешно, иначе откат до старта процесса

В случае с **`автоплатежом`** все тоже самое, только данная **`транзакция`** будет запущена не по инициативе пользователя вручную, а все будет выполнена автоматически по ранее записанным данным, т.е с какого счета списать и на какой пополнить. Также этот процесс будет запланирован на определенное время или же на определенное условие.

---
---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*

---

### Решение 3
- **`SQL`** то четкая структура данных, соответственно обращаться к данным к такой системе гораздо удобнее и эффективнее так у нас в распоряжении есть целый язык программирования с одноименным названием **`SQL`**. Благодаря четкой структуре и целого языка можно производиться сложные запросы и вычисления, для аналитиков это очень важно.
- **`SQL`** системы придерживаются правил **`ACID`** в которой надежность превыше всего.
- так как **`SQL`** системы уже достаточно давно на рынке, они научились работать с буферным кешем и в скорости не уступают и **`NoSQL`**, если конечно речь идет обычной нагрузке и большинство задач можно перекрыть именно **`SQL`** системе, а  по мере надобности расширить функционал каким либо расширением.
- четка типизация как преимущество, это упрощает работу с данными и позволяет добавлять новые таблицы и расширять базу за счет реляционной модели, т.е все таблицы связаны друг с другом.

Прям 5 штук четко не нашел, но как по мне все основные преимущества я озвучил 